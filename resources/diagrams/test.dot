digraph DFA {
    // Layout mejorado
    rankdir = LR;
    splines = true;
    overlap = false;
    nodesep = 0.05;
    ranksep = 0.1;
    
    // Estados normales
    node [shape = circle;];
    
    // Estado de aceptación
    F [shape = doublecircle;];
    
    // Estado de error
    e [shape = doublecircle;style = dashed;color = red;];
    
    // Transiciones desde estado inicial 0
    0 -> 0 [label = "n \n ASN";];
    0 -> 0 [label = "s, t";];
    0 -> 10 [label = "\":\" \n AS1";];
    0 -> 11 [label = "\"=\" \n AS1";];
    0 -> 12 [label = "\"-\" \n AS1";];
    0 -> 13 [label = "\">\" \n AS1";];
    0 -> 14 [label = "\"<\" \n AS1";];
    0 -> 15 [label = "\"#\"";];
    0 -> 18 [label = "L \n AS1, AS4";];
    0 -> 1 [label = "d \n AS1, AS4";];
    0 -> 3 [label = "\".\" \n AS1, AS4";];
    0 -> 8 [label = "\" \n AS1, AS4";];
    0 -> 9 [label = "l \n AS1";];
    0 -> F [label = "\"+\", \"*\", \"/\", \"(\", \")\", \"{\", \"}\", \"_\", \";\" \n AS1, AS3";];
    0 -> e [label = " C - n - s - t - l - L - \"#\" - \".\" - \"+\", \"*\", \"/\", \"(\", \")\", \"{\", \"}\", \"_\", \";\", \":\", \"=\", \"-\", \">\", \"<\" \n ERD"; style = dashed;];
    
    // Transiciones para números enteros (estados 1-2)
    1 -> 1 [label = "d \n AS2";];
    1 -> 2 [label = "\"U\" \n AS2";];
    1 -> 4 [label = "\".\" \n AS2";];
    1 -> e [label = "c - d - \".\" \n ER"; style = dashed;];
    1 -> e [label = "C - d - \"U\" - \"I\" \n ER1"; style = dashed;];
    
    2 -> F [label = "\"I\" \n AS2, ASUI, AS3";];
    2 -> e [label = "C - \"I\" \n ER2";];
    
    // Transiciones para números decimales (estados 3-7)
    3 -> 4 [label = "d \n AS2";];
    3 -> e [label = "c - d \n ER"; style = dashed;];
    
    4 -> 4 [label = "d \n AS2";];
    4 -> 5 [label = "\"F\" \n AS2";];
    4 -> F [label = "c - d - \"F\" \n ASF, AS3, ASR";];
    
    5 -> 6 [label = "\"+\", \"-\" \n AS2";];
    5 -> e [label = "c - \"+\", \"-\" \n ER"; style = dashed;];
    
    6 -> 7 [label = "d \n AS2";];
    6 -> e [label = "c - d \n ER"; style = dashed;];
    
    7 -> 7 [label = "d \n AS2";];
    7 -> F [label = "c - d \n ASF, AS3, ASR";];
    
    // Transiciones para cadenas (estado 8)
    8 -> 8 [label = "C - \" - n \n AS2";];
    8 -> F [label = "\" \n AS2, AS3";];
    8 -> e [label = "n \n ERN"; style = dashed;];
    
    // Transiciones para identificadores (estado 9)
    9 -> 9 [label = "l \n AS2";];
    9 -> F [label = "C - l \n AS3, ASR";];
    
    // Transiciones para operadores relacionales (estados 10-14)
    10 -> F [label = "\"=\" \n AS2, AS3";];
    10 -> e [label = "C - \"=\" \n ER"; style = dashed;];
    
    11 -> F [label = "\"=\", \"!\" \n AS2, AS3";];
    11 -> F [label = "C - \"=\" - \"!\" \n AS3, ASR";];
    
    12 -> F [label = "\">\" \n AS2, AS3";];
    12 -> F [label = "C - \">\" \n AS3, ASR";];
    
    13 -> F [label = "\"=\" \n AS2, AS3";];
    13 -> F [label = "C - \"=\" \n AS3, ASR";];
    
    14 -> F [label = "\"=\" \n AS2, AS3";];
    14 -> F [label = "C - \"=\" \n AS3, ASR";];
    
    // Transiciones para comentarios (estados 15-17)
    15 -> 16 [label = "\"#\"";];
    15 -> e [label = "C - \"#\" \n ERC"; style = dashed;];
    
    16 -> 16 [label = "C - n - \"#\"";];
    16 -> 16 [label = "n \n ASN";];
    16 -> 17 [label = "\"#\"";];
    
    17 -> 0 [label = "\"#\"";];
    17 -> 16 [label = "C - n - \"#\"";];
    17 -> 16 [label = "n \n ASN";];
    
    // Transiciones para variables (estado 18)
    18 -> 18 [label = "L, d, \"%\"\nAS2";];
    18 -> F [label = "C - L - d - \"%\"\n AS5, AS3, ASR";];
}